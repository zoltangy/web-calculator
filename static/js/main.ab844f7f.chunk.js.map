{"version":3,"sources":["fonts/Display.ttf","Themes.js","GlobalStyle.js","components/ThemeSelector.js","components/ModeDisplay.js","components/AggregateDisplay.js","components/ResultDisplay.js","components/Display.js","components/Button.js","App.js","index.js"],"names":["module","exports","darkTheme","bg","border","color","display","buttonShadow","buttonBorder","buttonText","buttonBg1","buttonBg2","buttonTextShadow","lightTheme","GlobalStyle","createGlobalStyle","normalize","myFont","props","theme","Wrapper","styled","div","StyledCheckBox","input","attrs","type","ThemeSelector","onChange","handleToggle","checked","StyledModeDisplay","p","ModeDisplay","text","formulaLogic","id","StyledAggregateDisplay","AggregateDisplay","aggregate","StyledResultDisplay","ResultDisplay","StyledDisplay","Display","StyledButton","button","doubleX","css","Button","onClick","e","handleClick","target","innerHTML","StyledApp","Calculator","init","tempResult","tempValue","reducer","state","action","str","newChar","isLastCharOperand","isNaN","Number","slice","evaluateMathFormula","math","format","eval","test","length","replace","match","p1","removeLeadingZerosInNumbers","removeTrailingDecimal","removeTrailingOperand","removeTrailingMinus","includes","Error","App","useReducer","dispatch","useState","themeToggle","setTheme","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ab844f7f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Display.6f15c220.ttf\";","const darkTheme = {\r\n  bg: \"#2B384C\",\r\n  border: \"#A9ABBC\",\r\n  color: \"#F0F2EF\",\r\n  display: \"#7a7473\",\r\n  buttonShadow: \"#92979F\",\r\n  buttonBorder: \"#7D5E5A\",\r\n  buttonText: \"#F0F2EF\",\r\n  buttonBg1: \"#8E7971\",\r\n  buttonBg2: \"#967e7b\",\r\n  buttonTextShadow: \"#2b665e\"\r\n};\r\n\r\nconst lightTheme = {\r\n  bg: \"#d9d9d9\",\r\n  border: \"#1b454f\",\r\n  color: \"#cddeaa\",\r\n  display: \"#44656b\",\r\n  buttonShadow: \"#91b8b3\",\r\n  buttonBorder: \"#566963\",\r\n  buttonText: \"#dce3ca\",\r\n  buttonBg1: \"#768d87\",\r\n  buttonBg2: \"#6c7c7c\",\r\n  buttonTextShadow: \"#2b665e\"\r\n};\r\n\r\nexport { darkTheme, lightTheme };\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport myFont from \"./fonts/Display.ttf\";\r\nimport { normalize } from \"styled-normalize\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  ${normalize}\r\n    \r\n  @font-face {\r\n    font-family: 'Display';\r\n    src: url(${myFont}) format('truetype');\r\n    font-weight: normal;\r\n  }\r\n\r\n  html {\r\n  box-sizing: border-box;\r\n  }\r\n\r\n  *, *:before, *:after {\r\n  box-sizing: inherit;\r\n  }\r\n\r\n  body {\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: ${props => props.theme.bg};\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 1.5rem;\r\n  padding: 7px 7px 0 0;\r\n  width: 320px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  background-color: ${props => props.theme.border};\r\n`;\r\n\r\nconst StyledCheckBox = styled.input.attrs({ type: \"checkbox\" })`\r\n  position: relative;\r\n  appearance: none;\r\n  width: 2rem;\r\n  height: calc(2rem / 2);\r\n  background-color: ${props => props.theme.bg};\r\n  border-radius: calc(2rem / 2);\r\n  border-color: ${props => props.theme.border};\r\n  outline: none;\r\n  transition: background 450ms ease;\r\n\r\n  &:before,\r\n  &:after {\r\n    position: absolute;\r\n    display: block;\r\n    content: \"\";\r\n    border-radius: 100%;\r\n    transition: background 450ms ease, transform 450ms ease;\r\n  }\r\n\r\n  &:before {\r\n    width: calc(2rem / 2);\r\n    height: calc(2rem / 2);\r\n    background-color: ${props => props.theme.buttonBg1};\r\n  }\r\n  &:checked:before {\r\n    background-color: ${props => props.theme.buttonBg1};\r\n    transform: translateX(100%);\r\n  }\r\n`;\r\n\r\nexport default function ThemeSelector(props) {\r\n  return (\r\n    <Wrapper>\r\n      <StyledCheckBox\r\n        onChange={() => {\r\n          props.handleToggle();\r\n        }}\r\n        checked={props.checked}\r\n      />\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledModeDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc((100% / 4));\r\n  margin: 0px;\r\n  padding: 5px;\r\n  font-family: monospace;\r\n  font-weight: normal;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n`;\r\n\r\nexport default function ModeDisplay(props) {\r\n  let text = props.formulaLogic\r\n    ? \"Mode: Formula logic\"\r\n    : \"Mode: Immediate execution logic\";\r\n  return <StyledModeDisplay id=\"modeDisplay\">{text}</StyledModeDisplay>;\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledAggregateDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc(100% / 4);\r\n  margin: 0px;\r\n  padding: 0 5px 0 5px;\r\n  font-family: \"Display\", sans-serif;\r\n  font-weight: normal;\r\n  font-style: italic;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n  text-align: right;\r\n`;\r\n\r\nexport default function AggregateDisplay(props) {\r\n  return (\r\n    <StyledAggregateDisplay id=\"aggregateDisplay\">\r\n      {props.aggregate}\r\n    </StyledAggregateDisplay>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledResultDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc(100% / 2);\r\n  margin: 0 0 7px 0;\r\n  padding: 0 5px 0 5px;\r\n  font-family: \"Display\", sans-serif;\r\n  font-weight: normal;\r\n  font-size: 24px;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n  text-align: right;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`;\r\n\r\nexport default function ResultDisplay(props) {\r\n  return (\r\n    <StyledResultDisplay id=\"display\">{props.display}</StyledResultDisplay>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ModeDisplay from \"./ModeDisplay\";\r\nimport AggregateDisplay from \"./AggregateDisplay\";\r\nimport ResultDisplay from \"./ResultDisplay\";\r\n\r\nconst StyledDisplay = styled.div`\r\n  height: calc((100% / 7) * 2);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport default function Display(props) {\r\n  return (\r\n    <StyledDisplay>\r\n      <ModeDisplay formulaLogic={props.formulaLogic} />\r\n      <AggregateDisplay aggregate={props.aggregate} />\r\n      <ResultDisplay display={props.display} />\r\n    </StyledDisplay>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nconst StyledButton = styled.button`\r\n  width: calc(100% / 4);\r\n  ${props =>\r\n    props.doubleX &&\r\n    css`\r\n      width: calc(100% / 2);\r\n    `};\r\n\r\n  height: calc(100% / 7);\r\n  box-shadow: inset 0px 1px 3px 0px ${props => props.theme.buttonShadow};\r\n  background: linear-gradient(\r\n    to bottom,\r\n    ${props => props.theme.buttonBg1} 5%,\r\n    ${props => props.theme.buttonBg2} 100%\r\n  );\r\n  background-color: ${props => props.theme.buttonBg1};\r\n  border-radius: 5px;\r\n  border: 1px solid ${props => props.theme.buttonBorder};\r\n  display: inline-block;\r\n  color: ${props => props.theme.buttonText};\r\n  font-family: Arial;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  text-shadow: 0px -1px 0px ${props => props.theme.buttonTextShadow};\r\n  &:hover {\r\n    background: linear-gradient(\r\n      to bottom,\r\n      ${props => props.theme.buttonBg2} 5%,\r\n      ${props => props.theme.buttonBg1} 100%\r\n    );\r\n    background-color: ${props => props.theme.buttonBg2};\r\n  }\r\n  &:active {\r\n    position: relative;\r\n    top: 1px;\r\n  }\r\n`;\r\n\r\nexport default function Button(props) {\r\n  return (\r\n    <StyledButton\r\n      id={props.id}\r\n      doubleX={!!props.doubleX}\r\n      onClick={e => {\r\n        props.handleClick({ type: e.target.innerHTML });\r\n      }}\r\n    >\r\n      {props.text}\r\n    </StyledButton>\r\n  );\r\n}\r\n","import React, { useReducer, useState } from \"react\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { darkTheme, lightTheme } from \"./Themes\";\nimport math from \"mathjs-expression-parser\";\n\nimport GlobalStyle from \"./GlobalStyle\";\nimport ThemeSelector from \"./components/ThemeSelector\";\nimport Display from \"./components/Display\";\nimport Button from \"./components/Button\";\n\nconst StyledApp = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Calculator = styled.div`\n  border: 7px solid ${props => props.theme.border};\n  background-color: ${props => props.theme.border};\n  width: 320px;\n  height: 455px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, init());\n  const [themeToggle, setTheme] = useState(true);\n\n  return (\n    <StyledApp>\n      <ThemeProvider theme={themeToggle ? lightTheme : darkTheme}>\n        <GlobalStyle />\n        <ThemeSelector\n          checked={themeToggle}\n          handleToggle={() => setTheme(!themeToggle)}\n        />\n        <Calculator>\n          <Display\n            display={state.display}\n            aggregate={state.aggregate + state.tempValue}\n            formulaLogic={state.formulaLogic}\n          />\n          <Button id=\"clear\" text=\"AC\" handleClick={dispatch} doubleX />\n          <Button id=\"mode\" text=\"Mode\" handleClick={dispatch} />\n          <Button id=\"divide\" text=\"/\" handleClick={dispatch} />\n\n          <Button id=\"seven\" text=\"7\" handleClick={dispatch} />\n          <Button id=\"eight\" text=\"8\" handleClick={dispatch} />\n          <Button id=\"nine\" text=\"9\" handleClick={dispatch} />\n          <Button id=\"multiply\" text=\"X\" handleClick={dispatch} />\n\n          <Button id=\"four\" text=\"4\" handleClick={dispatch} />\n          <Button id=\"five\" text=\"5\" handleClick={dispatch} />\n          <Button id=\"six\" text=\"6\" handleClick={dispatch} />\n          <Button id=\"subtract\" text=\"-\" handleClick={dispatch} />\n\n          <Button id=\"one\" text=\"1\" handleClick={dispatch} />\n          <Button id=\"two\" text=\"2\" handleClick={dispatch} />\n          <Button id=\"three\" text=\"3\" handleClick={dispatch} />\n          <Button id=\"add\" text=\"+\" handleClick={dispatch} />\n\n          <Button id=\"zero\" text=\"0\" handleClick={dispatch} doubleX />\n          <Button id=\"decimal\" text=\".\" handleClick={dispatch} />\n          <Button id=\"equals\" text=\"=\" handleClick={dispatch} />\n        </Calculator>\n      </ThemeProvider>\n    </StyledApp>\n  );\n}\n\nfunction init(formulaLogic = true) {\n  return {\n    aggregate: \"\",\n    display: \"0\",\n    formulaLogic: formulaLogic,\n    tempResult: \"\",\n    tempValue: \"\"\n  };\n}\n\nfunction reducer(state, action) {\n  var display = state.display;\n  var aggregate = state.aggregate;\n  var tempResult = state.tempResult;\n  var tempValue = state.tempValue;\n\n  var newChar = action.type === \"X\" ? \"*\" : action.type;\n\n  function isLastCharOperand() {\n    return isNaN(Number(tempValue.slice(-1)));\n  }\n\n  function removeTrailingDecimal(str) {\n    return str.replace(/[.]$/, \"\");\n  }\n\n  function removeTrailingMinus(str) {\n    return str.replace(/-+$/, \"\");\n  }\n\n  function removeTrailingOperand(str) {\n    return str.replace(/[-+*/=.]+$/, \"\");\n  }\n\n  function removeLeadingZerosInNumbers(str) {\n    return str.replace(/^([-+*/]*)0$/, (match, p1) => {\n      return p1;\n    });\n  }\n\n  function lastCharEquals(str) {\n    return tempValue.slice(-1) === str;\n  }\n\n  function evaluateMathFormula(str) {\n    return math.format(math.eval(str), 7);\n  }\n\n  // new calc or result carry over\n  if (lastCharEquals(\"=\") && newChar !== \"=\") {\n    let reg = /(\\+|-|\\*|\\/)/;\n    if (reg.test(newChar)) {\n      // previous result should carry over for new calculation\n      aggregate = display;\n      tempResult = display;\n    } else {\n      // start new calculation\n      aggregate = \"\";\n      tempResult = \"\";\n    }\n    tempValue = \"\";\n  }\n\n  switch (newChar) {\n    case \"AC\":\n      return init(state.formulaLogic);\n\n    case \"Mode\":\n      return init(!state.formulaLogic);\n\n    case \"0\":\n    case \"1\":\n    case \"2\":\n    case \"3\":\n    case \"4\":\n    case \"5\":\n    case \"6\":\n    case \"7\":\n    case \"8\":\n    case \"9\":\n      if (tempValue.length >= 17 || (aggregate + tempValue).length > 25) {\n        return state;\n      }\n      tempValue = removeLeadingZerosInNumbers(tempValue);\n      tempValue += newChar;\n      break;\n\n    case \"+\":\n    case \"-\":\n    case \"/\":\n    case \"*\":\n    case \"=\":\n      // initial equal ignored\n      if (aggregate === \"\" && tempValue === \"\" && newChar === \"=\") break;\n      if (aggregate === \"\" && tempValue === \"\") {\n        tempValue = display;\n      }\n      tempValue = removeTrailingDecimal(tempValue);\n      if (isLastCharOperand()) {\n        if (newChar !== \"-\") {\n          tempValue = removeTrailingOperand(tempValue);\n        } else {\n          tempValue = removeTrailingMinus(tempValue);\n        }\n      } else {\n        tempResult = display === \"\" ? tempValue : display;\n        aggregate += tempValue;\n        tempValue = \"\";\n      }\n      tempValue += newChar;\n      break;\n\n    case \".\":\n      // ensure only one decimal per number\n      if (!tempValue.includes(\".\")) {\n        // add implicit zero when decimal pushed after operand or after init\n        if (isLastCharOperand() || tempValue === \"\") {\n          tempValue += \"0\";\n        }\n        tempValue += newChar;\n      }\n      break;\n\n    default:\n      throw new Error();\n  }\n\n  // handle display based on mode selected\n  if (state.formulaLogic) {\n    if (aggregate !== \"\" && newChar === \"=\")\n      display = evaluateMathFormula(aggregate);\n    else if (tempValue === \"\") display = \"0\";\n    else display = tempValue.replace(/^[-+*/.=]+/, \"\");\n  } else {\n    if (tempValue === \"\" && aggregate === \"\") display = \"0\";\n    else if (tempValue === \"\") display = \"\";\n    else\n      display = evaluateMathFormula(\n        tempResult + tempValue.replace(/[-+*/.=]+$/, \"\")\n      );\n  }\n\n  return {\n    ...state,\n    display: display,\n    aggregate: aggregate,\n    tempResult: tempResult,\n    tempValue: tempValue\n  };\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
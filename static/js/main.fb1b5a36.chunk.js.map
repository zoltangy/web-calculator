{"version":3,"sources":["fonts/Display.ttf","Themes.js","GlobalStyle.js","components/ModeDisplay.js","components/AggregateDisplay.js","components/ResultDisplay.js","components/Display.js","components/Button.js","App.js","index.js"],"names":["module","exports","lightTheme","bg","border","color","display","buttonShadow","buttonBorder","buttonText","buttonBg1","buttonBg2","buttonTextShadow","GlobalStyle","createGlobalStyle","myFont","props","theme","StyledModeDisplay","styled","p","ModeDisplay","text","formulaLogic","id","StyledAggregateDisplay","AggregateDisplay","aggregate","StyledResultDisplay","ResultDisplay","StyledDisplay","div","Display","StyledButton","button","doubleX","css","Button","onClick","e","handleClick","type","target","innerHTML","StyledApp","Calculator","init","tempResult","tempValue","reducer","state","action","slice","test","isNaN","Number","operand","replace","includes","math","eval","toString","Error","match","p1","immediateLogic","App","useReducer","dispatch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb1b5a36.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Display.6f15c220.ttf\";","const darkTheme = {\r\n  bg: \"#2B384C\",\r\n  border: \"#A9ABBC\",\r\n  color: \"#F0F2EF\",\r\n  display: \"#7a7473\",\r\n  buttonShadow: \"#92979F\",\r\n  buttonBorder: \"#7D5E5A\",\r\n  buttonText: \"#F0F2EF\",\r\n  buttonBg1: \"#8E7971\",\r\n  buttonBg2: \"#967e7b\",\r\n  buttonTextShadow: \"#2b665e\"\r\n};\r\n\r\nconst lightTheme = {\r\n  bg: \"#d9d9d9\",\r\n  border: \"#1b454f\",\r\n  color: \"#cddeaa\",\r\n  display: \"#44656b\",\r\n  buttonShadow: \"#91b8b3\",\r\n  buttonBorder: \"#566963\",\r\n  buttonText: \"#dce3ca\",\r\n  buttonBg1: \"#768d87\",\r\n  buttonBg2: \"#6c7c7c\",\r\n  buttonTextShadow: \"#2b665e\"\r\n};\r\n\r\nexport { darkTheme, lightTheme };\r\n","import { createGlobalStyle } from \"styled-components\";\r\nimport myFont from \"./fonts/Display.ttf\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  @font-face {\r\n    font-family: 'Display';\r\n    src: url(${myFont}) format('truetype');\r\n    font-weight: normal;\r\n  }\r\n\r\n  html {\r\n  box-sizing: border-box;\r\n  }\r\n\r\n  *, *:before, *:after {\r\n  box-sizing: inherit;\r\n  }\r\n\r\n  body {\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: ${props => props.theme.bg};\r\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledModeDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc((100% / 4));\r\n  margin: 0px;\r\n  padding: 5px;\r\n  font-family: monospace;\r\n  font-weight: normal;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n`;\r\n\r\nconst ModeDisplay = props => {\r\n  let text = props.formulaLogic\r\n    ? \"Mode: Formula logic\"\r\n    : \"Mode: Immediate execution logic\";\r\n  return <StyledModeDisplay id=\"modeDisplay\">{text}</StyledModeDisplay>;\r\n};\r\n\r\nexport default ModeDisplay;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledAggregateDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc(100% / 4);\r\n  margin: 0px;\r\n  padding: 0 5px 0 5px;\r\n  font-family: \"Display\", sans-serif;\r\n  font-weight: normal;\r\n  font-style: italic;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n  text-align: right;\r\n`;\r\n\r\nconst AggregateDisplay = props => {\r\n  return (\r\n    <StyledAggregateDisplay id=\"aggregateDisplay\">\r\n      {props.aggregate}\r\n    </StyledAggregateDisplay>\r\n  );\r\n};\r\n\r\nexport default AggregateDisplay;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledResultDisplay = styled.p`\r\n  width: 100%;\r\n  height: calc(100% / 2);\r\n  margin: 0 0 7px 0;\r\n  padding: 0 5px 0 5px;\r\n  font-family: \"Display\", sans-serif;\r\n  font-weight: normal;\r\n  font-size: 24px;\r\n  color: ${props => props.theme.color};\r\n  background-color: ${props => props.theme.display};\r\n  text-align: right;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`;\r\n\r\nconst ResultDisplay = props => {\r\n  return (\r\n    <StyledResultDisplay id=\"display\">{props.display}</StyledResultDisplay>\r\n  );\r\n};\r\n\r\nexport default ResultDisplay;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ModeDisplay from \"./ModeDisplay\";\r\nimport AggregateDisplay from \"./AggregateDisplay\";\r\nimport ResultDisplay from \"./ResultDisplay\";\r\n\r\nconst StyledDisplay = styled.div`\r\n  height: calc((100% / 7) * 2);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Display = props => {\r\n  return (\r\n    <StyledDisplay>\r\n      <ModeDisplay formulaLogic={props.formulaLogic} />\r\n      <AggregateDisplay aggregate={props.aggregate} />\r\n      <ResultDisplay display={props.display} />\r\n    </StyledDisplay>\r\n  );\r\n};\r\n\r\nexport default Display;\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nconst StyledButton = styled.button`\r\n  width: calc(100% / 4);\r\n  ${props =>\r\n    props.doubleX &&\r\n    css`\r\n      width: calc(100% / 2);\r\n    `};\r\n\r\n  height: calc(100% / 7);\r\n  box-shadow: inset 0px 1px 3px 0px ${props => props.theme.buttonShadow};\r\n  background: linear-gradient(\r\n    to bottom,\r\n    ${props => props.theme.buttonBg1} 5%,\r\n    ${props => props.theme.buttonBg2} 100%\r\n  );\r\n  background-color: ${props => props.theme.buttonBg1};\r\n  border-radius: 5px;\r\n  border: 1px solid ${props => props.theme.buttonBorder};\r\n  display: inline-block;\r\n  color: ${props => props.theme.buttonText};\r\n  font-family: Arial;\r\n  font-size: 15px;\r\n  font-weight: bold;\r\n  padding: 11px 23px;\r\n  text-decoration: none;\r\n  text-shadow: 0px -1px 0px ${props => props.theme.buttonTextShadow};\r\n  &:hover {\r\n    background: linear-gradient(\r\n      to bottom,\r\n      ${props => props.theme.buttonBg2} 5%,\r\n      ${props => props.theme.buttonBg1} 100%\r\n    );\r\n    background-color: ${props => props.theme.buttonBg2};\r\n  }\r\n  &:active {\r\n    position: relative;\r\n    top: 1px;\r\n  }\r\n`;\r\n\r\nconst Button = props => {\r\n  return (\r\n    <StyledButton\r\n      id={props.id}\r\n      doubleX={!!props.doubleX}\r\n      onClick={e => {\r\n        props.handleClick({ type: e.target.innerHTML });\r\n      }}\r\n    >\r\n      {props.text}\r\n    </StyledButton>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { useReducer } from \"react\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { Normalize } from \"styled-normalize\";\nimport { darkTheme, lightTheme } from \"./Themes\";\nimport GlobalStyle from \"./GlobalStyle\";\n\nimport Display from \"./components/Display\";\nimport Button from \"./components/Button\";\nimport math from \"mathjs-expression-parser\";\n\nconst StyledApp = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Calculator = styled.div`\n  border: 7px solid ${props => props.theme.border};\n  background-color: ${props => props.theme.border};\n  width: 320px;\n  height: 455px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, init());\n\n  return (\n    <StyledApp>\n      <ThemeProvider theme={lightTheme}>\n        <Calculator>\n          <Normalize />\n          <GlobalStyle />\n          <Display\n            display={state.display}\n            aggregate={state.aggregate + state.tempValue}\n            formulaLogic={state.formulaLogic}\n          />\n          <Button id=\"clear\" text=\"AC\" handleClick={dispatch} doubleX />\n          <Button id=\"mode\" text=\"Mode\" handleClick={dispatch} />\n          <Button id=\"divide\" text=\"/\" handleClick={dispatch} />\n\n          <Button id=\"seven\" text=\"7\" handleClick={dispatch} />\n          <Button id=\"eight\" text=\"8\" handleClick={dispatch} />\n          <Button id=\"nine\" text=\"9\" handleClick={dispatch} />\n          <Button id=\"multiply\" text=\"X\" handleClick={dispatch} />\n\n          <Button id=\"four\" text=\"4\" handleClick={dispatch} />\n          <Button id=\"five\" text=\"5\" handleClick={dispatch} />\n          <Button id=\"six\" text=\"6\" handleClick={dispatch} />\n          <Button id=\"subtract\" text=\"-\" handleClick={dispatch} />\n\n          <Button id=\"one\" text=\"1\" handleClick={dispatch} />\n          <Button id=\"two\" text=\"2\" handleClick={dispatch} />\n          <Button id=\"three\" text=\"3\" handleClick={dispatch} />\n          <Button id=\"add\" text=\"+\" handleClick={dispatch} />\n\n          <Button id=\"zero\" text=\"0\" handleClick={dispatch} doubleX />\n          <Button id=\"decimal\" text=\".\" handleClick={dispatch} />\n          <Button id=\"equals\" text=\"=\" handleClick={dispatch} />\n        </Calculator>\n      </ThemeProvider>\n    </StyledApp>\n  );\n}\n\nfunction init(formulaLogic = true) {\n  return {\n    aggregate: \"\",\n    display: \"0\",\n    formulaLogic: formulaLogic,\n    tempResult: \"\",\n    tempValue: \"\"\n  };\n}\n\nfunction reducer(state, action) {\n  if (action.type === \"Mode\") {\n    return init(!state.formulaLogic);\n  }\n\n  if (action.type === \"AC\") {\n    return init(state.formulaLogic);\n  }\n\n  if (state.formulaLogic) {\n    return formulaLogic(state, action);\n  } else {\n    return immediateLogic(state, action);\n  }\n}\n\nfunction formulaLogic(state, action) {\n  var display = state.display;\n  var aggregate = state.aggregate;\n\n  // new calc or result carry over\n  if (aggregate.slice(-1) === \"=\" && action.type !== \"=\") {\n    let reg = /(\\+|-|X|\\/)/;\n    if (reg.test(action.type)) {\n      // previous result should carry over for new calculation\n      aggregate = display;\n    } else {\n      // start new calculation\n      aggregate = \"\";\n    }\n    display = \"0\";\n  }\n\n  // handling numbers\n  if (!isNaN(Number(action.type))) {\n    display = display.replace(/^[+-/*]+/, \"\").replace(/^0$/, \"\") + action.type;\n    aggregate =\n      aggregate\n        .replace(/([-+*/]+)0$/, (match, p1) => {\n          return p1;\n        })\n        .replace(/^0(?![.*-/+])/, \"\") + action.type;\n  } else {\n    // handling operands, '.', '='\n    switch (action.type) {\n      case \"+\":\n      case \"/\":\n      case \"X\":\n        let operand = action.type === \"X\" ? \"*\" : action.type;\n        if (aggregate === \"\") aggregate = \"0\";\n        // Overwrite operand when pressing one after another\n        aggregate = aggregate.replace(/[+\\-*/.]+$/, \"\") + operand;\n        display = operand;\n        break;\n\n      case \"-\":\n        // pushing multiple '-' should be ignored\n        if (aggregate.slice(-1) !== \"-\") {\n          aggregate += action.type;\n          display = action.type;\n        }\n        break;\n\n      case \".\":\n        // ensure only one decimal per number\n        if (!display.includes(\".\")) {\n          // add implicit zero when decimal pushed after operand or after init\n          if (isNaN(Number(aggregate.slice(-1))) || aggregate === \"\") {\n            aggregate += \"0\" + action.type;\n            display = \"0\" + action.type;\n          } else {\n            // normal case, just add decimal\n            aggregate += action.type;\n            display += action.type;\n          }\n        }\n        break;\n\n      case \"=\":\n        // pushing '=' more than once or at init should be ignored\n        if (aggregate.slice(-1) !== \"=\" && aggregate !== \"\") {\n          // remove unfinished operand\n          aggregate = aggregate.replace(/[+\\-*/.]+$/, \"\");\n          display = math.eval(aggregate).toString();\n          aggregate += action.type;\n        }\n        break;\n\n      default:\n        throw new Error();\n    }\n  }\n  return {\n    ...state,\n    display: display,\n    aggregate: aggregate\n  };\n}\n\nfunction immediateLogic(state, action) {\n  var display = state.display;\n  var aggregate = state.aggregate;\n  var tempResult = state.tempResult;\n  var tempValue = state.tempValue;\n\n  // new calc or result carry over\n  if (tempValue.slice(-1) === \"=\" && action.type !== \"=\") {\n    let reg = /(\\+|-|X|\\/)/;\n    if (reg.test(action.type)) {\n      // previous result should carry over for new calculation\n      aggregate = display;\n      tempResult = display;\n    } else {\n      // start new calculation\n      aggregate = \"\";\n      display = \"0\";\n      tempResult = \"\";\n    }\n    tempValue = \"\";\n  }\n\n  // handling numbers\n  if (!isNaN(Number(action.type))) {\n    tempValue =\n      tempValue\n        .replace(/([-+*/]+)0$/, (match, p1) => {\n          return p1;\n        })\n        .replace(/^0(?!\\.)/, \"\") + action.type;\n    display =\n      tempResult === \"\" ? \"\" : math.eval(tempResult + tempValue).toString();\n  } else {\n    // handling operands, '.', '='\n    switch (action.type) {\n      case \"+\":\n      case \"/\":\n      case \"X\":\n        let operand = action.type === \"X\" ? \"*\" : action.type;\n        if (aggregate === \"\" && tempValue === \"\") aggregate = \"0\";\n        // Overwrite operand when pressing one after another\n        if (isNaN(Number(tempValue.slice(-1)))) {\n          tempValue = tempValue.replace(/[+\\-*/.]+$/, \"\");\n        } else {\n          tempResult = display === \"\" ? tempValue : display;\n          aggregate += tempValue;\n          tempValue = \"\";\n        }\n        tempValue += operand;\n        display = tempResult;\n        break;\n\n      case \"-\":\n        // pushing multiple '-' should be ignored\n        if (tempValue.slice(-1) !== \"-\") {\n          if (!isNaN(Number(tempValue.slice(-1)))) {\n            tempResult = display === \"\" ? tempValue : display;\n            aggregate += tempValue;\n            tempValue = \"\";\n          }\n          tempValue += action.type;\n          display = tempResult;\n        }\n        break;\n\n      case \".\":\n        // ensure only one decimal per number\n        if (!tempValue.includes(\".\")) {\n          // add implicit zero when decimal pushed after operand or after init\n          if (isNaN(Number(tempValue.slice(-1))) || tempValue === \"\") {\n            tempValue += \"0\" + action.type;\n          } else {\n            tempValue += action.type;\n          }\n        }\n        break;\n\n      case \"=\":\n        // pushing '=' more than once or at init should be ignored\n        if (tempValue.slice(-1) !== \"=\" && aggregate !== \"\") {\n          // remove unfinished operand\n          if (isNaN(Number(tempValue.slice(-1)))) {\n            tempValue = tempValue.slice(0, -1);\n          }\n          tempResult = display === \"\" ? tempValue : display;\n          aggregate += tempValue;\n          tempValue = action.type;\n          display = tempResult;\n        }\n        break;\n\n      default:\n        throw new Error();\n    }\n  }\n  return {\n    ...state,\n    display: display,\n    aggregate: aggregate,\n    tempResult: tempResult,\n    tempValue: tempValue\n  };\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}